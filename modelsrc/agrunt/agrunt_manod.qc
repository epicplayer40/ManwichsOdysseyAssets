//Alien grunt
//Model by Braindead, HL1 rig port and QC edits by epicplayer
$modelname "agrunt.mdl"
$cdmaterials models\agrunt models\vortigaunt
$scale 1.0

// whole body
$model agrunt "agrunt_body_reference" {
	eyeball "eye_0" "Bip01 Head" -0.000002 -15.764594 73.935025 "upmideyeball" 2.2 0 "pupil" 1.8
	eyeball "eye_1" "Bip01 Head" -2.246034 -15.233938 74.271961 "uprighteyeball" 2.2 12 "pupil" 1.5
	eyeball "eye_2" "Bip01 Head" 2.246030 -15.233935 74.271962 "uplefteyeball" 2 -12 "pupil" 1.5
}

$bodygroup arm
{
studio "agrunt_hivehand_reference"
//studio "AGRUNT_Template_Model(Bare_arm)4" 
}

$opaque

//head controllers
$controller 0 "Bip01 head" XR -45 45

// head
$attachment 0 "Bip01 r hand" 0 0 0 

$attachment "eyes" "Bip01 head" -0.0 -17.0588 73.7571 absolute

$eyeposition 0 0 75

// I SET THESE HIT BOXES UP BY *HAND*, PLEASE DON'T CHANGE THEM WITHOUT ME! (sjb)
// Boxes in group 10 are armored.

// .qc block generated by HLMV begins.

$surfaceprop "alienflesh"

$jointsurfaceprop "Bip01 L Leg1"	 "metal"
$jointsurfaceprop "Bone27"	 "alienflesh"
$jointsurfaceprop "Bone30"	 "alienflesh"
$jointsurfaceprop "Bip01 R Leg1"	 "metal"
$jointsurfaceprop "Bone24"	 "alienflesh"
$jointsurfaceprop "Bone21"	 "alienflesh"
$jointsurfaceprop "Bip01 Spine3"	 "metal"
$jointsurfaceprop "Bone01"	 "alienflesh"
$jointsurfaceprop "Bone04"	 "alienflesh"
$jointsurfaceprop "Bip01 L Arm2"	 "alienflesh"
$jointsurfaceprop "Bip01 R Arm2"	 "alienflesh"

$hboxset "default"

$hbox 10 "Bip01 Pelvis"	   -10.95  -15.24  -13.61     5.01    7.59   13.39
$hbox 6 "Bip01 L Leg"	     0.00  -10.83   -7.53    23.55    6.71    7.54
$hbox 6 "Bip01 L Leg1"	    -1.90   -2.91  -10.33    16.65    6.38    4.97
$hbox 7 "Bip01 R Leg"	     0.00  -10.70   -7.44    23.32    7.19    6.38
$hbox 7 "Bip01 R Leg1"	    -2.35   -5.53   -6.51    15.79    6.63    8.58
$hbox 10 "Bip01 L Foot"	    -1.20   -3.20   -8.39    11.61   16.08    9.90
$hbox 10 "Bip01 R Foot"	     0.00   -2.89   -8.38    11.37   16.39    9.90
$hbox 3 "Bip01 Spine"	    -0.25   -6.16  -11.87     6.96   11.40   11.79
$hbox 2 "Bip01 Spine1"	    -0.25  -10.16  -11.87     6.96   11.40   11.79
$hbox 2 "Bip01 Spine2"	    -0.67   -0.01  -12.18     6.46   12.32   12.00
$hbox 10 "Bip01 Spine3"	    -6.03  -15.00  -12.24     9.51   10.02   12.70
$hbox 1 "Bip01 Head"	    -2.02    6.00   -8.13    12.45   15.21    7.73
$hbox 10 "Bip01 Head"	   -12.02  -14.16   -8.13    12.45    6.00    7.73
$hbox 10 "Bip01 L Arm"	     0.00   -5.02   -9.56    13.42   11.53    7.33
$hbox 10 "Bip01 L Arm1"	   -10.83  -11.05   -6.74    14.00   10.01   11.87
$hbox 4 "Bip01 L Arm1"	    14.00  -11.05   -6.74    23.17   10.01   11.87
$hbox 4 "Bip01 L Arm2"	     0.00   -7.73   -9.44    28.52    7.34    7.40
$hbox 5 "Bip01 R Arm2"	     0.00  -13.51   -9.14    50.77    7.71   11.06
$hbox 10 "Bip01 R Arm"	     0.00   -8.76   -7.38    16.84   11.67    9.58
$hbox 10 "Bip01 R Arm1"	   -10.95  -11.24  -11.98    14.00    9.93    6.76
$hbox 5 "Bip01 R Arm1"	    14.00  -11.24  -11.98    26.52    9.93    6.76
// .qc block generated by HLMV ends.

/*
==============================================================================
COMMON ANIMATIONS
==============================================================================
*/
$sequence idle1 "agrunt_idle1(subtle)" fps 15 LOOP ACT_IDLE 50
$sequence threat "agrunt_idle3(t-display)" fps 15 ACT_THREAT_DISPLAY 1
$sequence walk "agrunt_walk1" loop LX fps 15 ACT_WALK 1 // FIXME { event 10 10 } { event 11 20 }
$sequence run "agrunt_run1" loop LX fps 20 ACT_RUN 1 { event 10 12 } { event 11 24 }
$sequence turnl "AGRUNT_180(Turnaround)Left1" fps 15 ACT_TURN_LEFT 1
$sequence turnr "AGRUNT_180(Turnaround)Rght1" fps 15 ACT_TURN_RIGHT 1
$sequence smallflinch "agrunt_flinch(small)1" fps 15 ACT_SMALL_FLINCH 1
$sequence bigflinch "agrunt_flinch(big)1" fps 15 ACT_BIG_FLINCH 1
$sequence mattack2 "AGRUNT_Swing2(hornet-chop)" fps 15 ACT_MELEE_ATTACK1 1 { event 13 8 }
$sequence mattack3 "AGRUNT_Swing3(leftswing)" fps 15 ACT_MELEE_ATTACK1 1 { event 12 7 }
$sequence victorysquat "AGRUNT_Victory_Dance1" fps 5 ACT_CROUCH 1
$sequence victoryeat "AGRUNT_Victory_Dance2(Cycler)" fps 8 LOOP ACT_VICTORY_DANCE 1
$sequence victorysquat_2 "AGRUNT_Victory_Dance3(Up)" fps 5 ACT_STAND 1
$sequence larmflinch "AGRUNT_SFCH_Larm1" fps 20 ACT_FLINCH_LEFTARM 1
$sequence llegflinch "AGRUNT_SFCH_LLEG1" fps 20 ACT_FLINCH_LEFTLEG 1
$sequence rarmflinch "AGRUNT_SFCH_Rarm1" fps 20 ACT_FLINCH_RIGHTARM 1
$sequence rlegflinch "AGRUNT_SFCH_RLEG1" fps 20 ACT_FLINCH_RIGHTLEG 1
$sequence attack3_2 "AGRUNT_X-Shoot-up1" fps 10 LOOP 
$sequence attack3 "AGRUNT_X-Shoot-down1" fps 10 LOOP 
$sequence hornetattack "agrunt_x-shoot-down1" "agrunt_x-shoot-up1" fps 10 blend XR -30 45 {
{ event 1 3  } { event 2 5  } { event 3 7  } { event 4 8  } { event 5 11 }
} ACT_RANGE_ATTACK1 1 
$sequence quickshoot "agrunt_x-shoot-down(2Sht)1" "agrunt_x-shoot-up(2Sht)1" fps 10 blend XR -30 45 {
{ event 1 5 } { event 1 7  }
} ACT_RANGE_ATTACK1 1 
$sequence longshoot "agrunt_x-shoot-down(7Sht)1" "agrunt_x-shoot-up(7Sht)1" fps 10 blend XR -30 45 {
{ event 1 3  } { event 2 5  } { event 3 7  } { event 4 9  } { event 5 11 } { event 5 13 } { event 5 15 }
} ACT_RANGE_ATTACK1 1 
/*
==============================================================================
EXTRA ANIMATIONS
==============================================================================
*/
$sequence shoot2 "AGRUNT(With_Gun)_New_Shoot2" fps 20
$sequence abuse "AGRUNT_Abuse2(Kick)" fps 20
$sequence attack1 "AGRUNT_Attack1" fps 15
$sequence crouch "AGRUNT_Crouch(From_Walk)1" fps 16
$sequence earlydieforward "AGRUNT_Die(Forward)1" ACT_DIEFORWARD 1 fps 20 LX
$sequence earlydiesimple "AGRUNT_Die(Simple)1" ACT_DIESIMPLE 1 fps 20 walkframe 9 LX walkframe 19 LX walkframe 31 LX
$sequence earlydieviolent "AGRUNT_Die(Violent)1" ACT_DIEVIOLENT 1 fps 20 walkframe 9 LX walkframe 39 LX walkframe 54 LX
$sequence fall "AGRUNT_Fall_Cycler1" loop
$sequence jump "AGRUNT_Jump1" fps 24 LX
$sequence qjumpair "AGRUNT_Qjump1(Air_Cycle)" loop
$sequence qjumpland "AGRUNT_Qjump1(Land)" fps 7
$sequence qjumptakeoff "AGRUNT_Qjump1(Take-off)" fps 10 LX
$sequence runandshoot "AGRUNT_Run&Shoot1" loop LX fps 20 { event 10 12 } { event 11 24 }
$sequence shoothornetgun "AGRUNT_Shoot(Hornet_Gun)1" fps 15
$sequence stand "AGRUNT_Stand(Template)1"
$sequence mattack1 "AGRUNT_Swing1(Bite)" fps 15
$sequence mattack4 "AGRUNT_Swing4(Mid-Claw)" fps 15
$sequence shoot1 "AGRUNT_X-Shoot1" fps 17
$sequence idle2 "AGRUNT_Idle2(Get_Dat_Bug)" fps 24
$sequence communion communion loop
$sequence elevatordie c3a2_elevatordie
$sequence flee c2a5_flee walkframe 48 LX walkframe 59 LX walkframe 80 LX walkframe 99 LX
/*
==============================================================================
DEATH ANIMATIONS
==============================================================================
*/
$sequence diehead "AGRUNT_SDTH_Headshot1" fps 20 ACT_DIE_HEADSHOT 1 { event 2002 15 } LX
$sequence diegut "AGRUNT_SDTH_Gutshot1" fps 15 ACT_DIE_GUTSHOT 1 { event 2002 14 } walkframe 10 LX walkframe 17 LX
$sequence dieforward "AGRUNT_SDTH_Forward1" fps 16 ACT_DIEFORWARD 1 { event 2002 10 } LX
$sequence diesimple "AGRUNT_SDTH_Simple1" fps 10 ACT_DIESIMPLE 1 { event 2002 6 }
$sequence diebackward "AGRUNT_SDTH_Backward1" fps 15 ACT_DIEBACKWARD 1 { event 2002 25 } walkframe 16 LX walkframe 27 LX
/*
==============================================================================
SCRIPTED SEQUENCES
==============================================================================
*/
$sequence float "AGRUNT_Dario_Float1" fps 15
$sequence scare "AGRUNT_Dario_jump" fps 20 {
	{ event 1004 1 "Weapons.BulletHit1" }
	{ event 1004 24 "Weapons.BulletHit2" }
	{ event 1004 44 "NPC_Agrunt.Alert3" }
	{ event 1004 62 "Weapons.BulletHit1" }
}
$sequence bigopen "open_bigdoor_c3a2" fps 20 {
// Now implemented by level designer	{ event 1003 2 "door" }
	{ event 1008 5 "NPC_Agrunt.Alert1" }
}
$sequence smashrail "smash_rail" fps 20
$sequence landhard "land_from_fall" fps 20

$include "ragdoll.qci"

//==============================================================================


$lod 15 
{
	replacemodel "agrunt_body_reference" "agrunt_body_LOD_1" 
}

$lod 25 
{
	replacemodel "agrunt_body_reference" "agrunt_body_LOD_2"
}

$lod 55
{
	replacemodel "agrunt_body_reference" "agrunt_body_LOD_3" 
}

$lod 70 
{
	replacemodel "agrunt_body_reference" "agrunt_body_LOD_4"
	replacematerial "uplefteyeball" "hl1grunt"
	replacematerial "uprighteyeball" "hl1grunt"
	replacematerial "upmideyeball" "hl1grunt"
}

$lod 90 
{
	replacemodel "agrunt_body_reference" "agrunt_body_LOD_5"
	removemesh "models/vortigaunt/uplefteyeball"
	removemesh "models/vortigaunt/uprighteyeball"
	removemesh "models/vortigaunt/upmideyeball"
}

$shadowlod
{
	replacemodel "agrunt_body_reference" "agrunt_body_LOD_4"
	replacematerial "uplefteyeball" "hl1grunt"
	replacematerial "uprighteyeball" "hl1grunt"
	replacematerial "upmideyeball" "hl1grunt"
}